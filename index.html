<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Ngforce by noeticpenguin</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Ngforce</h1>
        <p>Force.com Angular.js framework. A better description forthwith.</p>
        <p class="view"><a href="https://github.com/noeticpenguin/ngForce">View the Project on GitHub <small>noeticpenguin/ngForce</small></a></p>
        <ul>
          <li><a href="https://github.com/noeticpenguin/ngForce/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/noeticpenguin/ngForce/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/noeticpenguin/ngForce">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
      <div id="logo" style="width:128px; height=128px;">
        <img src="https://raw.github.com/noeticpenguin/ngForce/master/images/logo_128x128.png" width="128" height="128">
      </div>
        <h1>
<a name="ngforce" class="anchor" href="#ngforce"><span class="octicon octicon-link"></span></a>ngForce</h1>

<h1>
<a name="forcecom-angularjs-framework" class="anchor" href="#forcecom-angularjs-framework"><span class="octicon octicon-link"></span></a>Force.com Angular.js framework.</h1>

<p>ngForce is a set of Angular.js modules that facilitate quick and sustainable Angular.js application development on the Force.com Platform. With the Angular.js modules are a set of Apex classes facilitating Visualforce Remoting. </p>

<h2>
<a name="architectural-overview" class="anchor" href="#architectural-overview"><span class="octicon octicon-link"></span></a>Architectural Overview.</h2>

<p>ngForce is composed of a number of independent modules that are normally comiled/minified into a single .min.js file for use. However, advanced developers can adopt singular modules from the jsSrc directory, so long as the underlying requirements for ngForce are met:</p>

<ol>
<li>Lo-Dash.js (or Underscore, but Lo-Dash is significantly faster)</li>
<li>safeApply.js - An Angular module in it's own right, this module provides a fire and forget method of syncing external data retreival with the Angular Run loop.</li>
<li>The sfr* services all require Restangular.js, an Angular.js module for better integration with mostly restful apis.</li>
</ol><h1>
<a name="services-overview" class="anchor" href="#services-overview"><span class="octicon octicon-link"></span></a>Services Overview.</h1>

<h2>
<a name="jssrcngforce-visualforceremotingjs" class="anchor" href="#jssrcngforce-visualforceremotingjs"><span class="octicon octicon-link"></span></a>/jsSrc/ngForce-visualForceRemoting.js</h2>

<p>This service provides methods for interacting with the force.com platform without burning API calls. It does this by providing both a generic Angular-ized wrapper for <em>Any visualforce remoting annotated method</em> in your org, as well as a set of pre-wired convienence methods from the acompanying ngForceController.cls. These largely handle CRUD, Bulk Create and Update as well as manipulation of fieldsets. </p>

<h3>
<a name="methods-of-note" class="anchor" href="#methods-of-note"><span class="octicon octicon-link"></span></a>Methods of Note:</h3>

<p>vfr.send() - Send gives you the ability to on-demand generate a function that make a JSRemoting call to any @remoteAction annotated method in your org. This method accepts a fully qualified &amp;&amp; namespaced method name specifying the remoteAction method to invoke as well as an Options hash and a boolean parameter determining if the remoteAction method is allowed to return a null response object. (for instance, delete.) <em>This method returns a function that, when invoked, makes a promised based visualforce remoting call</em> Using .send() you can:</p>

<div class="highlight highlight-javascript"><pre>    <span class="kd">var</span> <span class="nx">makeChatterPost</span> <span class="o">=</span> <span class="nx">vfr</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">'Example.Controller.Method'</span><span class="p">,</span> <span class="nx">options</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span> 
</pre></div>

<p>once in your service, controller or app definition. Then you can call the method </p>

<div class="highlight highlight-javascript"><pre><span class="nx">makeChatterPost</span><span class="p">(</span><span class="s2">"foo bar baz!"</span><span class="p">);</span>
</pre></div>

<p>to trigger the VisualForce Remoting call. 
There are a number of convience methods pre-wired into the vfr module such as: </p>

<ul>
<li>bulkCreate</li>
<li>bulkUpdate</li>
<li>create</li>
<li>clone</li>
<li>del</li>
<li>describe</li>
<li>describeFieldSet</li>
<li>describePicklistValues</li>
<li>getObjectType</li>
<li>getQueryResultsAsSelect2Data</li>
<li>query</li>
<li>queryFromFieldset</li>
<li>retrieve</li>
<li>search</li>
<li>soqlFromFieldSet</li>
<li>update</li>
<li>upsert</li>
</ul><p><strong>Please note, This is a provider and as such, you can override the default "standardOptions" used by .send() and consequently by the convience methods in your app.setup method.</strong></p>

<h2>
<a name="jssrcngforce-sftemplatejs" class="anchor" href="#jssrcngforce-sftemplatejs"><span class="octicon octicon-link"></span></a>/jsSrc/ngForce-sfTemplate.js</h2>

<p>This service provides methods for optimizing and "pre-building" Angular views from Visualforce .pages in your org. Salesforce, (as of Spring 14) still injects a number of javascript tags into the .HTML that the Visualforce engine generates. Some of these .js files are not well optimized for compositing complex views from partial templates. While loading any given single partial has a negligable impact on application speed from these scripts, compositing a page out of 15 partials <em>does</em>. This service, in conjunction with the AngularTemplateCache service, provides a way to pre-fetch the view, strip the extra .js include tags and push the HTML into the $TemplateCache. There is a noticable improvement in application load times using this. </p>

<ul>
<li>This Method is also a provider, and allows you to reset the standard regex blacklist in the app.setup method. *
###Methods of Note:
fromVf() - This method requests the template from Salesforce and utilizes the preset blacklist regex and strips offending js include statements from the fetched templates before inserting the template into the cache.</li>
</ul><h2>
<a name="jssrcngforce-sfrquery" class="anchor" href="#jssrcngforce-sfrquery"><span class="octicon octicon-link"></span></a>/jsSrc/ngForce-sfrQuery</h2>

<p>This service is <em>the</em> service by which one queries records in Salesforce via the <em>rest</em> api. It is entirely promise based and will as soon as the request has been <em>sent</em> to Salesforce. </p>

<h3>
<a name="methods-of-note-1" class="anchor" href="#methods-of-note-1"><span class="octicon octicon-link"></span></a>Methods of Note:</h3>

<p>Query() - the query method accepts a string representation of a <em>soql</em> query. This query is handed - as is - to Salesforce only manipulating the string to ensure url-encodedness. Depending on the Query itself, the result will usually be an object of objects representing the resulting rows from Salesforce. Each of the rows returned is, itself a fully activated objects with the ability to call Update() etc.</p>

<p>QueryAll() - This method is a double edged sword. If you need to have more than 2k records returned, this is the easiest method to do so. On the other hand, without an intentional Upper boundry in the query string itself, you can easily pull down 28k records. This will run your user's box out of memory, freeze their browser and in all likelyhood run you out of API calls if multiple people are using the service. <em>use wisely</em></p>

<h2>
<a name="jssrcngforce-sfrbackend" class="anchor" href="#jssrcngforce-sfrbackend"><span class="octicon octicon-link"></span></a>/jsSrc/ngForce-sfrBackend</h2>

<p>This service facilitates testing by providing custom expectations, mocks and testing utilities. </p>

<h2>
<a name="jssrcngforce-sfranalyticsjs" class="anchor" href="#jssrcngforce-sfranalyticsjs"><span class="octicon octicon-link"></span></a>/jsSrc/ngForce-sfrAnalytics.js</h2>

<p>This service provides access to the Analytics Rest Api. </p>

<h3>
<a name="feel-free-to-submit-pull-requests-with-more-documentation-on-this-one" class="anchor" href="#feel-free-to-submit-pull-requests-with-more-documentation-on-this-one"><span class="octicon octicon-link"></span></a>Feel free to submit pull requests with more documentation on this one.</h3>

<h2>
<a name="jssrcngforce-sfrjs" class="anchor" href="#jssrcngforce-sfrjs"><span class="octicon octicon-link"></span></a>/jsSrc/ngForce-sfr.js</h2>

<p>This is the main <em>rest</em> api service. It provides four main methods:</p>

<ol>
<li>Model: this method returns a restangular object configured
for crud operations via the standard .post .get etc. methods 
of restanglar. </li>
<li>Insert: A convience method, for ... inserting records.</li>
<li>Update: A convience method, for ... updating records.</li>
<li>Delete: a convience method, for ... deleting records.</li>
</ol><p>What's important to know about the SFR service is that your queried object results return as a collection of SFR service enabled objects. Given a result set, each record has, for instance, an update() method.</p>

<h2>
<a name="jssrcngforce-remoteobjectsjs" class="anchor" href="#jssrcngforce-remoteobjectsjs"><span class="octicon octicon-link"></span></a>/jsSrc/ngForce-remoteObjects.js</h2>

<p>This service exposes a factory for building Remote Object methods. This is the newest service and as such has had the least amount of real-world testing. </p>

<h2>
<a name="jssrcngforce-encodeuriqueryjs" class="anchor" href="#jssrcngforce-encodeuriqueryjs"><span class="octicon octicon-link"></span></a>/jsSrc/ngForce-encodeUriQuery.js</h2>

<p>This service is used internally by the sfrBackground service to enable better testing.</p>

<h1>
<a name="usage" class="anchor" href="#usage"><span class="octicon octicon-link"></span></a>Usage</h1>

<p>During the creation of your application module, inject the ngForce dependcy thusly:</p>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">app</span> <span class="o">=</span> <span class="nx">angular</span><span class="p">.</span><span class="nx">module</span><span class="p">(</span><span class="s1">'myAwesomeAngularOnSalesforceApp'</span><span class="p">,</span> <span class="p">[</span><span class="s1">'ngForce'</span><span class="p">]);</span>
</pre></div>

<p>Once your app Module has been defined, you can include the service ngForce provides, 'vfr' in any of your controllers by adding it to the dependency injection list like this:</p>

<div class="highlight highlight-javascript"><pre><span class="nx">app</span><span class="p">.</span><span class="nx">controller</span><span class="p">(</span><span class="s1">'oppBoxCtrl'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">$scope</span><span class="p">,</span> <span class="nx">$dialog</span><span class="p">,</span> <span class="nx">vfr</span><span class="p">)</span>
</pre></div>

<p>Thereafter in the controller you can utilize the ngForce services much like the $http, or $q services in Angular.
vfr, sfr, sfrquery and all the others return promises, and therefore your services can have a clean(er), less call-back-hell flow to them. </p>

<h1>
<a name="why-is-this-important" class="anchor" href="#why-is-this-important"><span class="octicon octicon-link"></span></a>Why is this important?</h1>

<p>The Deferred / Promise pattern in Angular is a simplified version of the Q library by Kris Kowal (<a href="https://github.com/kriskowal/q">https://github.com/kriskowal/q</a>) It provides a deferred object prototype with, as of Angular.js 1.1.5, just two methods, resolve and reject; and a singular property: promise. 
The promise object held by the deferred object's promise property has a single method, .then() which is used to complete promises. 
Finally, Angular provides the $q service, which provides the constructor for building deferred objects, as well as an additional two methods, .all() and .when() </p>

<p>Semantically, these are combined with the logic that you Defer some <em>work</em> with the <em>promise</em> to complete it, and <em>then</em> once it's complete, you act on it.</p>

<p>Say more, How do I do that?</p>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">pOppQuery</span> <span class="o">=</span> <span class="nx">vfr</span><span class="p">.</span><span class="nx">query</span><span class="p">(</span><span class="s2">"SELECT Id, Name, Account.Name, LeadSource, Probability, CloseDate, StageName, Amount FROM Opportunity ORDER BY CloseDate DESC"</span><span class="p">);</span>
<span class="nx">pOppQuery</span><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">$scope</span><span class="p">.</span><span class="nx">opportunities</span> <span class="o">=</span> <span class="nx">d</span><span class="p">.</span><span class="nx">records</span><span class="p">;</span>
<span class="p">});</span>
</pre></div>

<p>In our example above, we're calling the vfr service to make a SOQL query. This is our act of <em>deferring</em> some work -- querying Salesforce --. Vfr returns a <em>promise</em> to complete that work, which we assign to the variable pOppQuery. We call the .then() method to do some work when our promised work has been completed. </p>

<p>Now, if that was the extent of what you could do with Deferred / Promises it'd be a nice improvement over callback hell. However, the fun doesn't end there. If your .then() method returns a promise, you can create chains promise execution -- enforcing order execution amidst asynchronous work. Here's what that looks like:</p>

<div class="highlight highlight-javascript"><pre><span class="nx">vfr</span><span class="p">.</span><span class="nx">query</span><span class="p">(</span><span class="s2">"SELECT Id, Active__c, Site, Type, Industry, Name, AccountNumber, NumberOfEmployees FROM Account"</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">accounts</span><span class="p">){</span>
            <span class="c1">// we can manipulate the results of this first query, even assign scope variables with it</span>
            <span class="nx">$scope</span><span class="p">.</span><span class="nx">accounts</span> <span class="o">=</span> <span class="nx">accounts</span><span class="p">.</span><span class="nx">records</span><span class="p">;</span>
            <span class="kd">var</span> <span class="nx">accountIds</span> <span class="o">=</span> <span class="nx">_</span><span class="p">.</span><span class="nx">pluck</span><span class="p">(</span><span class="nx">accounts</span><span class="p">.</span><span class="nx">records</span><span class="p">,</span> <span class="s1">'Id'</span><span class="p">);</span>
            <span class="nx">accountIds</span> <span class="o">=</span> <span class="nx">_</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">accountIds</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">id</span><span class="p">){</span> <span class="k">return</span> <span class="s2">"'"</span> <span class="o">+</span> <span class="nx">id</span> <span class="o">+</span> <span class="s2">"'"</span><span class="p">;}).</span><span class="nx">join</span><span class="p">(</span><span class="s2">", "</span><span class="p">);</span>
            <span class="c1">// but we must!!! return a promise, like a new ngForce method call</span>
            <span class="k">return</span> <span class="nx">vfr</span><span class="p">.</span><span class="nx">query</span><span class="p">(</span><span class="s2">"SELECT Id, Name FROM Opportunity WHERE AccountId in ("</span> <span class="o">+</span> <span class="nx">accountIds</span> <span class="o">+</span> <span class="s2">")"</span><span class="p">);</span>
        <span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">Opps</span><span class="p">){</span>
            <span class="nx">$scope</span><span class="p">.</span><span class="nx">opps</span> <span class="o">=</span> <span class="nx">Opps</span><span class="p">.</span><span class="nx">records</span><span class="p">;</span>
            <span class="nx">oppIds</span> <span class="o">=</span> <span class="nx">_</span><span class="p">.</span><span class="nx">pluck</span><span class="p">(</span><span class="nx">Opps</span><span class="p">.</span><span class="nx">records</span><span class="p">,</span> <span class="s2">"Id"</span><span class="p">);</span> <span class="c1">//shoutout to underscorejs.org!</span>
            <span class="nx">oppIds</span> <span class="o">=</span> <span class="nx">_</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">oppIds</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">id</span><span class="p">){</span> <span class="k">return</span> <span class="s2">"'"</span> <span class="o">+</span> <span class="nx">id</span> <span class="o">+</span> <span class="s2">"'"</span><span class="p">;}).</span><span class="nx">join</span><span class="p">(</span><span class="s2">", "</span><span class="p">);</span>
            <span class="k">return</span> <span class="nx">vfr</span><span class="p">.</span><span class="nx">query</span><span class="p">(</span><span class="s2">"SELECT Id, PricebookEntry.Name, Quantity, UnitPrice FROM OpportunityLineItem WHERE OpportunityId in ("</span> <span class="o">+</span> <span class="nx">oppIds</span> <span class="o">+</span> <span class="s2">")"</span><span class="p">);</span>
        <span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">products</span><span class="p">){</span>
            <span class="nx">$scope</span><span class="p">.</span><span class="nx">products</span> <span class="o">=</span> <span class="nx">products</span><span class="p">.</span><span class="nx">records</span><span class="p">;</span>
            <span class="k">return</span> <span class="nx">products</span><span class="p">;</span>
        <span class="p">},</span>
        <span class="c1">// This last link in the chain is our error reporting link.</span>
        <span class="c1">// If / When any of the above promises is rejected, or fails to resolve</span>
        <span class="c1">// this method runs, and in our case logs the error.</span>
        <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">){</span>
            <span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
        <span class="p">});</span>
</pre></div>

<p>This pattern is extremely useful when you're creating, for instance, an object with several child objects. In the first promise you create the parent object, and in the following promise you create the first child object -- in this second promise you'll have access to the Id of the created object, etc. </p>

<p>Finally, at the very end of the chain, you can append an error handling function. If any of the promises are rejected the following promises will also be rejected passing the error message on to the error function.</p>

<p>Addtionally, the $q service provides the .all() method. If you're familiar with the jQuery Deferred / Promise interface the all() method is functionally identical to the jquery $.when() method. In Angular, you utilize it this way:</p>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">pQuery1</span> <span class="o">=</span> <span class="nx">vfr</span><span class="p">.</span><span class="nx">query</span><span class="p">(</span><span class="s2">"Select Id from Account"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">pQuery2</span> <span class="o">=</span> <span class="nx">vfr</span><span class="p">.</span><span class="nx">query</span><span class="p">(</span><span class="s2">"Select Id from Contact"</span><span class="p">);</span>

<span class="nx">$q</span><span class="p">.</span><span class="nx">all</span><span class="p">(</span><span class="nx">pQuery1</span><span class="p">,</span> <span class="nx">pQuery2</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">{</span>
    <span class="c1">// Both of these promises are guaranteed to be completed successfully.</span>
<span class="p">});</span>
</pre></div>

<h1>
<a name="using-the-vfr-helper-methods" class="anchor" href="#using-the-vfr-helper-methods"><span class="octicon octicon-link"></span></a>Using the vfr helper methods</h1>

<p>vfr provides some helper methods that are intended to make the developers life simpler. Most of these are self explanitory but a couple of them are a bit more esoteric. </p>

<p>Perhaps the most confusing is the bulkCreate method. You can invoke the bulk create method thusly:</p>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">pBulkCreateCall</span> <span class="o">=</span> <span class="nx">vfr</span><span class="p">.</span><span class="nx">bulkCreate</span><span class="p">(</span><span class="s1">'objectName__c'</span><span class="p">,</span> <span class="nx">dataRows</span><span class="p">);</span>
<span class="nx">pBulkCreateCall</span><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">results</span><span class="p">){</span>
    <span class="c1">//do something awesome with results</span>
<span class="p">});</span>

<span class="c1">// dataRows is a numerically key'd object of objects. like this:</span>
<span class="p">{</span>
    <span class="s2">"0"</span><span class="o">:</span><span class="p">{</span><span class="s2">"propA"</span><span class="o">:</span><span class="mi">3</span><span class="p">,</span><span class="s2">"End_date__c"</span><span class="o">:</span><span class="s2">"2013-08-21T11:29:27.365Z"</span><span class="p">},</span>
    <span class="s2">"1"</span><span class="o">:</span><span class="p">{</span><span class="s2">"propA"</span><span class="o">:</span><span class="mi">3</span><span class="p">,</span><span class="s2">"End_date__c"</span><span class="o">:</span><span class="s2">"2013-08-21T11:29:27.365Z"</span><span class="p">},</span>
    <span class="s2">"2"</span><span class="o">:</span><span class="p">{</span><span class="s2">"propA"</span><span class="o">:</span><span class="mi">3</span><span class="p">,</span><span class="s2">"End_date__c"</span><span class="o">:</span><span class="s2">"2013-08-21T11:29:27.365Z"</span><span class="p">},</span>
    <span class="s2">"3"</span><span class="o">:</span><span class="p">{</span><span class="s2">"propA"</span><span class="o">:</span><span class="mi">3</span><span class="p">,</span><span class="s2">"End_date__c"</span><span class="o">:</span><span class="s2">"2013-08-21T11:29:27.365Z"</span><span class="p">},</span>
    <span class="s2">"4"</span><span class="o">:</span><span class="p">{</span><span class="s2">"propA"</span><span class="o">:</span><span class="mi">3</span><span class="p">,</span><span class="s2">"End_date__c"</span><span class="o">:</span><span class="s2">"2013-08-21T11:29:27.365Z"</span><span class="p">},</span>
    <span class="s2">"5"</span><span class="o">:</span><span class="p">{</span><span class="s2">"propA"</span><span class="o">:</span><span class="mi">3</span><span class="p">,</span><span class="s2">"End_date__c"</span><span class="o">:</span><span class="s2">"2013-08-21T11:29:27.365Z"</span><span class="p">},</span>
    <span class="s2">"6"</span><span class="o">:</span><span class="p">{</span><span class="s2">"propA"</span><span class="o">:</span><span class="mi">3</span><span class="p">,</span><span class="s2">"End_date__c"</span><span class="o">:</span><span class="s2">"2013-08-21T11:29:27.365Z"</span><span class="p">},</span>
    <span class="s2">"7"</span><span class="o">:</span><span class="p">{</span><span class="s2">"propA"</span><span class="o">:</span><span class="mi">3</span><span class="p">,</span><span class="s2">"End_date__c"</span><span class="o">:</span><span class="s2">"2013-08-21T11:29:27.365Z"</span><span class="p">},</span>
    <span class="s2">"8"</span><span class="o">:</span><span class="p">{</span><span class="s2">"propA"</span><span class="o">:</span><span class="mi">3</span><span class="p">,</span><span class="s2">"End_date__c"</span><span class="o">:</span><span class="s2">"2013-08-21T11:29:27.365Z"</span><span class="p">},</span>
    <span class="s2">"9"</span><span class="o">:</span><span class="p">{</span><span class="s2">"propA"</span><span class="o">:</span><span class="mi">3</span><span class="p">,</span><span class="s2">"End_date__c"</span><span class="o">:</span><span class="s2">"2013-08-21T11:29:27.365Z"</span><span class="p">},</span>
    <span class="s2">"10"</span><span class="o">:</span><span class="p">{</span><span class="s2">"propA"</span><span class="o">:</span><span class="mi">3</span><span class="p">,</span><span class="s2">"End_date__c"</span><span class="o">:</span><span class="s2">"2013-08-21T11:29:27.365Z"</span><span class="p">},</span>
    <span class="s2">"11"</span><span class="o">:</span><span class="p">{</span><span class="s2">"propA"</span><span class="o">:</span><span class="mi">3</span><span class="p">,</span><span class="s2">"End_date__c"</span><span class="o">:</span><span class="s2">"2013-08-21T11:29:27.365Z"</span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// I generated that with: </span>
<span class="kd">var</span> <span class="nx">dataRows</span> <span class="o">=</span> <span class="p">{};</span>
<span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">12</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">dataRows</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'propA'</span><span class="o">:</span><span class="mi">3</span><span class="p">,</span> <span class="s1">'End_date__c'</span><span class="o">:</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">()};</span>
<span class="p">}</span>

<span class="c1">// Each of the child objects should be independently insertable via the vfr.create method -- </span>
<span class="c1">// ie: should be a json representation of the object.</span>

</pre></div>
      </section>
    </div>
    <footer>
      <p>Project maintained by <a href="https://github.com/noeticpenguin">noeticpenguin</a></p>
      <p>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></p>
    </footer>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-40872097-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>
